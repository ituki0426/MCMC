# 5.多変数のメトロポリス法

これまでの章：一変数の例

マルコフ連鎖モンテカルロ法が真に威力を発揮するのは”次元の呪い”が牙をむく多変数の確率分布を相手にするとき。

最初の一歩として、メトロポリス法を多変数に拡張することから始める。

この拡張は簡単。

変数を $$ とする。


多変数になったことで、サンプルの集め方に大きく分けて二つの選択肢が出てくる。

一つは「まとめて更新」：

もう一つは「一つずつ更新」：

どちらのやり方でもマルコフ連鎖モンテカルロ法の４つの条件が満たされる。

変数がたくさんある場合、「まとめて更新」ではステップ幅 $c_i$ を小さくとらないと更新確率が小さくなる。

それと比べて「一つずつ更新」ではステップ幅を比較的大きく保つことが可能です。

## 5.1 多変数のガウス分布

一例として多変数のガウス分布